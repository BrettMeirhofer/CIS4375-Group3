{% extends "jeans/jeanssite.html" %}

{% block extrabody %}
    <h1>Top Promos</h1>
    <table>
        <thead>
            <tr>
                <th>Promo ID</th>
                <th>Promo Name</th>
                <th>Promo Code</th>
                <th>Promo Description</th>
                <th>Customer Count</th>
            </tr>
        </thead>
        <tbody>
            {% for item in top_promos %}
                <tr>
                    <td>{{ item.promo.id }}</td>
                    <td>{{ item.promo.name }}</td>
                    <td>{{ item.promo.code }}</td>
                    <td>{{ item.promo.desc }}</td>
                    <td>{{ item.customer_count }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <h2>Top Customers Using Promos</h2>
  <table>
    <thead>
      <tr>
        <th>Customer ID</th>
        <th>Customer Name</th>
        <th>Promo Count</th>
      </tr>
    </thead>
    <tbody>
      {% for data in top_customers %}
        <tr>
          <td>{{ data.customer_id }}</td>
          <td>{{ data.customer__first_name }} {{ data.customer__last_name }}</td>
          <td>{{ data.promo_count }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  <button id="print-report-btn">Print Report</button>
  <script>
    document.getElementById('print-report-btn').addEventListener('click', function() {
      window.print();
    });
  </script>  <script>
    document.getElementById('print-report-btn').addEventListener('click', function() {
      window.print();
    });
  </script>
{% endblock %}